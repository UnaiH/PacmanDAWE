//  variable global temporalmente para poder testear el ejercicio
inputStates = {
  	left: false,
    	right: false,
    	up: false,
    	down: false,
    	space: false,
};

Pacman.prototype.move = function() {

	// test4
	// Tu código aquí
    
    	if (inputStates.left==true && player.x!=0) {
    		player.x = player.x - player.speed;
    	}
    	else if (inputStates.right==true && player.x!=w-player.radius) {
    		player.x = player.x + player.speed;
    	}
	else if (inputStates.up==true && player.y!=0) {
    		player.y = player.y - player.speed;
    	}
    	else if (inputStates.down==true && player.y!=h-player.radius) {
    		player.y = player.y + player.speed;
    	}
      
};

// Función para pintar el Pacman
Pacman.prototype.draw = function(x, y) {
         
	// Pac Man
	// test2   
	// Tu código aquí
	// ojo: en el test2 esta función se llama drawPacman(x,y))	 
    
    	ctx.beginPath();
	ctx.arc(player.x+player.radius, player.y+player.radius, player.radius, player.angle1*Math.PI, player.angle2*Math.PI);
    	ctx.closePath();
    	ctx.strokeStyle = "black";
    	ctx.stroke();
    	ctx.fillStyle = "yellow";
    	ctx.fill();
    
}

var checkInputs = function(){
	// test4
	// Tu código aquí    
};

var addListeners = function(){
	// add the listener to the main, window object, and update the states
	// test4
	// Tu código aquí
    
    	window.addEventListener('keyown', keyDown);
    	window.addEventListener('keyup', keyUp);
  
  	function keyDown(e) {
    		const keyName = e.key;
      		if (keyName === 'ArrowLeft') {
      			inputStates.left = true;
      		}
      		else if (keyName === 'ArrowRight') {
      			inputStates.right = true;
		}
      		else if (keyName === 'ArrowUp') {
      			inputStates.up = true;
     	 	}
      		else if (keyName === 'ArrowDown') {
      			inputStates.down = true;
      		}
      		else if (keyName === 'Space') {
      			console.log(`Key pressed ${keyName}`);
      		}
	}
    
    	function keyUp(e) {
    		const keyName = e.key;
      		if (keyName === 'ArrowLeft') {
      			inputStates.left = false;
      		}
      		else if (keyName === 'ArrowRight') {
      			inputStates.right = false;
		}
      		else if (keyName === 'ArrowUp') {
      			inputStates.up = false;
      		}
      		else if (keyName === 'ArrowDown') {
      			inputStates.down = false;
      		}
  	}
    
};